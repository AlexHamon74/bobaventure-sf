{% extends 'base.html.twig' %}

{% block title %}{{title}}{% endblock %}

{% block body %}
	{% include 'assets/header.html.twig' %}
	<main>
		<section class="hero-news bgc-linear-primary py-5">
			<div class="container">
				<h1>Toutes les Actualités</h1>
				<p>Suivez toutes nos aventures et nos actions sur le terrains</p>
			</div>
		</section>

		<section class="actus bgc-secondary py-5">
			<div class="container">
				<form method="get" action="{{ path('app_news') }}">
					<div class="row mb-5">
						<div class="col-12">
							<div class="input-group">
								<span class="input-group-text">
									<i class="fa-solid fa-magnifying-glass"></i>
								</span>
								<input type="text" name="q" class="form-control" value="{{ currentSearch }}" placeholder="Rechercher">
							</div>
						</div>
						<div class="col-12 d-flex flex-wrap gap-2 mt-3">
							<a href="{{ path('app_news') }}" class="badge-form {{ currentCategory is empty ? 'active' : '' }}">
								Tous
							</a>
							{% for category in categories %}
								<a href="{{ path('app_news', {q: currentSearch, category: category.id}) }}" class="badge-form {{ currentCategory == category.id ? 'active' : '' }}">
									{{ category.name }}
								</a>
							{% endfor %}
						</div>
					</div>
					<div class="row">
						{% for article in articles %}
							{% include 'assets/card.html.twig' with { article: article } %}
						{% else %}
							<h3 class="mb-4 text-center">Aucun article trouvé.</h3>
						{% endfor %}
					</div>
				</form>
			</div>
		</section>
	</main>
	{% include 'assets/footer.html.twig' %}
{% endblock %}

